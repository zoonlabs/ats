{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
	<div>
		<h1 class="mb-1">Job Postings</h1>
		<p class="text-muted mb-0">Manage your open positions and track candidates</p>
	</div>
	<a href="{% url 'job_create' %}" class="btn btn-primary">
		<i class="bi bi-plus-circle me-2"></i>Create New Job
	</a>
</div>

<div class="card border-0 shadow-sm">
	<div class="table-responsive">
		<table class="table table-hover mb-0">
			<thead class="table-light">
				<tr>
					<th class="border-0">Job Title</th>
					<th class="border-0">Created</th>
					<th class="border-0">Candidates</th>
					<th class="border-0">Status</th>
					<th class="border-0 text-end">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for job in jobs %}
				<tr>
					<td>
						<a href="{% url 'job_detail' job.pk %}" class="text-decoration-none fw-semibold text-dark">
							<i class="bi bi-briefcase text-primary me-2"></i>{{ job.title }}
						</a>
					</td>
					<td>
						<small class="text-muted">
							<i class="bi bi-calendar3"></i>
							{{ job.created_at|date:"M d, Y" }}
						</small>
					</td>
					<td>
						<span class="badge bg-light text-dark">
							<i class="bi bi-people-fill"></i>
							{{ job.candidates.count }} candidate{{ job.candidates.count|pluralize }}
						</span>
					</td>
					<td>
						<span class="badge bg-success">
							<i class="bi bi-check-circle"></i> Active
						</span>
					</td>
					<td class="text-end">
						<div class="btn-group btn-group-sm" role="group">
							<a href="{% url 'job_detail' job.pk %}" class="btn btn-outline-primary" title="View Pipeline">
								<i class="bi bi-eye"></i> View
							</a>
							<a href="{% url 'candidate_upload' %}?job={{ job.pk }}" class="btn btn-outline-success" title="Add Candidate">
								<i class="bi bi-person-plus"></i>
							</a>
						</div>
					</td>
				</tr>
				{% empty %}
				<tr>
					<td colspan="5" class="text-center py-5">
						<i class="bi bi-inbox" style="font-size: 3rem; color: #ccc;"></i>
						<p class="text-muted mt-2 mb-3">No jobs found. Create your first job posting!</p>
						<a href="{% url 'job_create' %}" class="btn btn-primary">
							<i class="bi bi-plus-circle me-2"></i>Create Job
						</a>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
